const a1_0x376d59=a1_0x3060;(function(_0x52bc33,_0x43c599){const _0x1ab897=a1_0x3060,_0x1a4758=_0x52bc33();while(!![]){try{const _0x28c59a=parseInt(_0x1ab897(0x95,'[VEQ'))/0x1*(-parseInt(_0x1ab897(0x8e,'kQBf'))/0x2)+-parseInt(_0x1ab897(0x87,'*bdB'))/0x3+-parseInt(_0x1ab897(0x93,')lDc'))/0x4+-parseInt(_0x1ab897(0x99,'@F^S'))/0x5+-parseInt(_0x1ab897(0x7f,'E8ut'))/0x6+parseInt(_0x1ab897(0x96,'@F^S'))/0x7*(-parseInt(_0x1ab897(0x92,'kQBf'))/0x8)+parseInt(_0x1ab897(0x80,'VTL&'))/0x9*(parseInt(_0x1ab897(0x97,'P6W]'))/0xa);if(_0x28c59a===_0x43c599)break;else _0x1a4758['push'](_0x1a4758['shift']());}catch(_0x308d6a){_0x1a4758['push'](_0x1a4758['shift']());}}}(a1_0x2786,0x8f286));const a1_0x164866=(function(){let _0x1f242b=!![];return function(_0x33d6a6,_0x44235f){const _0x555a19=_0x1f242b?function(){if(_0x44235f){const _0xc43cdf=_0x44235f['apply'](_0x33d6a6,arguments);return _0x44235f=null,_0xc43cdf;}}:function(){};return _0x1f242b=![],_0x555a19;};}()),a1_0x468d21=a1_0x164866(this,function(){const _0x520614=a1_0x3060;return a1_0x468d21['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x520614(0x9b,'zoG0')](a1_0x468d21)['search']('(((.+)+)+)+$');});a1_0x468d21();const a1_0x5e0650=(function(){const _0x34bc12={'hOASe':function(_0x4b3030,_0xfe5a8e){return _0x4b3030!==_0xfe5a8e;},'cVPYv':'TyWab','BDaBI':function(_0x162228,_0x24fc1e){return _0x162228===_0x24fc1e;},'pZLOI':'IQEJd'};let _0x4e6689=!![];return function(_0x461ac6,_0x4053ea){const _0x4b2514=_0x4e6689?function(){const _0x33a30a=a1_0x3060;if(_0x34bc12['hOASe']('gnBNv',_0x34bc12['cVPYv'])){if(_0x4053ea){if(_0x34bc12[_0x33a30a(0x8c,'9YEe')](_0x34bc12['pZLOI'],'IQEJd')){const _0x475500=_0x4053ea['apply'](_0x461ac6,arguments);return _0x4053ea=null,_0x475500;}else _0x4b3fa0[_0x3d0725]=this[_0x33a30a(0x86,'*bdB')](_0x3fda55[_0x17e0f6]);}}else{_0x192ddb['error']('Error\x20fetching\x20IP\x20data:',_0x14e53d);throw _0xd70e47;}}:function(){};return _0x4e6689=![],_0x4b2514;};}()),a1_0x444739=a1_0x5e0650(this,function(){const _0x40a849=a1_0x3060,_0x359f39={'kwabx':function(_0x5995d8,_0x430929){return _0x5995d8==_0x430929;},'QoyEM':function(_0x189e08,_0x1bf19e){return _0x189e08(_0x1bf19e);},'vhQhP':function(_0x2fd800,_0x25aa78){return _0x2fd800+_0x25aa78;},'CkfcD':'{}.constructor(\x22return\x20this\x22)(\x20)','RWQdr':function(_0x3fd00e){return _0x3fd00e();},'XnTrJ':'log','PZXib':'warn','ANQuP':'exception','fFVmE':'table','SXajm':function(_0x30c138,_0x3c6957){return _0x30c138<_0x3c6957;},'DohGy':'bdjeX','DnTKo':'error','RshLo':'trace','imyyj':_0x40a849(0x89,'E8ut')};let _0x1661c9;try{if(_0x359f39['DohGy']!==_0x359f39['DohGy']){if(_0x777b81['status']==0x194||_0x359f39['kwabx'](_0x41f871['status'],0x1f7)){_0xa61384['error']('Detect\x20API\x20Change\x20Stopping\x20bot');throw _0x353547('Detect\x20API\x20Change\x20Stopping\x20bot');}throw _0x359f39['QoyEM'](_0x2235f8,_0x279677[_0x40a849(0x85,'CDqe')]+'\x20-\x20'+_0x22eb16['statusText']);}else{const _0x1d2215=Function('return\x20(function()\x20'+_0x359f39['CkfcD']+');');_0x1661c9=_0x1d2215();}}catch(_0xc2c91c){_0x1661c9=window;}const _0x1af2f0=_0x1661c9['console']=_0x1661c9['console']||{},_0x5a53ca=[_0x359f39['XnTrJ'],'warn','info',_0x359f39['DnTKo'],'exception',_0x359f39['fFVmE'],_0x359f39['RshLo']];for(let _0x52626b=0x0;_0x52626b<_0x5a53ca['length'];_0x52626b++){if(_0x359f39['imyyj']!=='tKKvq'){const _0x4944af=a1_0x5e0650['constructor'][_0x40a849(0x90,'[VEQ')]['bind'](a1_0x5e0650),_0x2da62a=_0x5a53ca[_0x52626b],_0x5e445a=_0x1af2f0[_0x2da62a]||_0x4944af;_0x4944af['__proto__']=a1_0x5e0650['bind'](a1_0x5e0650),_0x4944af['toString']=_0x5e445a[_0x40a849(0x8a,'#!w1')]['bind'](_0x5e445a),_0x1af2f0[_0x2da62a]=_0x4944af;}else{let _0x1b514a;try{const _0x5cd4f7=_0x339a3c(_0x359f39['vhQhP'](_0x359f39['vhQhP']('return\x20(function()\x20',_0x359f39['CkfcD']),');'));_0x1b514a=_0x359f39['RWQdr'](_0x5cd4f7);}catch(_0x2fbf4d){_0x1b514a=_0xfe6d22;}const _0x461ead=_0x1b514a['console']=_0x1b514a['console']||{},_0x182d10=[_0x359f39['XnTrJ'],_0x359f39['PZXib'],'info','error',_0x359f39['ANQuP'],_0x359f39['fFVmE'],'trace'];for(let _0x43e057=0x0;_0x359f39['SXajm'](_0x43e057,_0x182d10['length']);_0x43e057++){const _0x20873e=_0x3f1e22[_0x40a849(0x98,'sqOy')]['prototype']['bind'](_0x11cc31),_0x53343d=_0x182d10[_0x43e057],_0x113c7a=_0x461ead[_0x53343d]||_0x20873e;_0x20873e['__proto__']=_0x22255e['bind'](_0x35316d),_0x20873e['toString']=_0x113c7a['toString']['bind'](_0x113c7a),_0x461ead[_0x53343d]=_0x20873e;}}}});a1_0x444739();import{HttpsProxyAgent}from'https-proxy-agent';import a1_0x3cc113 from'node-fetch';import a1_0x4bf835 from'rand-user-agent';import a1_0x3247c8 from'../../utils/logger.js';import{SocksProxyAgent}from'socks-proxy-agent';function a1_0x3060(_0x1c5016,_0x4860c3){const _0x8b66f=a1_0x2786();return a1_0x3060=function(_0x444739,_0x5e0650){_0x444739=_0x444739-0x7f;let _0x73f72e=_0x8b66f[_0x444739];if(a1_0x3060['rYnRRb']===undefined){var _0x429863=function(_0x4f563e){const _0x32d3d0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x179891='',_0x145b14='',_0x3976c0=_0x179891+_0x429863;for(let _0x53bd97=0x0,_0x48e3e5,_0x271151,_0x39c548=0x0;_0x271151=_0x4f563e['charAt'](_0x39c548++);~_0x271151&&(_0x48e3e5=_0x53bd97%0x4?_0x48e3e5*0x40+_0x271151:_0x271151,_0x53bd97++%0x4)?_0x179891+=_0x3976c0['charCodeAt'](_0x39c548+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x48e3e5>>(-0x2*_0x53bd97&0x6)):_0x53bd97:0x0){_0x271151=_0x32d3d0['indexOf'](_0x271151);}for(let _0x1581eb=0x0,_0x3628ef=_0x179891['length'];_0x1581eb<_0x3628ef;_0x1581eb++){_0x145b14+='%'+('00'+_0x179891['charCodeAt'](_0x1581eb)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x145b14);};const _0x3060a0=function(_0xf5953,_0x2ba485){let _0x37dc5b=[],_0x4c6c5c=0x0,_0x1feb6b,_0x1b303e='';_0xf5953=_0x429863(_0xf5953);let _0x1ce300;for(_0x1ce300=0x0;_0x1ce300<0x100;_0x1ce300++){_0x37dc5b[_0x1ce300]=_0x1ce300;}for(_0x1ce300=0x0;_0x1ce300<0x100;_0x1ce300++){_0x4c6c5c=(_0x4c6c5c+_0x37dc5b[_0x1ce300]+_0x2ba485['charCodeAt'](_0x1ce300%_0x2ba485['length']))%0x100,_0x1feb6b=_0x37dc5b[_0x1ce300],_0x37dc5b[_0x1ce300]=_0x37dc5b[_0x4c6c5c],_0x37dc5b[_0x4c6c5c]=_0x1feb6b;}_0x1ce300=0x0,_0x4c6c5c=0x0;for(let _0x29319c=0x0;_0x29319c<_0xf5953['length'];_0x29319c++){_0x1ce300=(_0x1ce300+0x1)%0x100,_0x4c6c5c=(_0x4c6c5c+_0x37dc5b[_0x1ce300])%0x100,_0x1feb6b=_0x37dc5b[_0x1ce300],_0x37dc5b[_0x1ce300]=_0x37dc5b[_0x4c6c5c],_0x37dc5b[_0x4c6c5c]=_0x1feb6b,_0x1b303e+=String['fromCharCode'](_0xf5953['charCodeAt'](_0x29319c)^_0x37dc5b[(_0x37dc5b[_0x1ce300]+_0x37dc5b[_0x4c6c5c])%0x100]);}return _0x1b303e;};a1_0x3060['BPMJvn']=_0x3060a0,_0x1c5016=arguments,a1_0x3060['rYnRRb']=!![];}const _0x468d21=_0x8b66f[0x0],_0x164866=_0x444739+_0x468d21,_0x278641=_0x1c5016[_0x164866];if(!_0x278641){if(a1_0x3060['CmsVlz']===undefined){const _0x174d81=function(_0x4ebf3e){this['mINmSS']=_0x4ebf3e,this['Xraerg']=[0x1,0x0,0x0],this['rcEVux']=function(){return'newState';},this['DidDTh']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['zGmQBs']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x174d81['prototype']['kAPWtm']=function(){const _0x2d8533=new RegExp(this['DidDTh']+this['zGmQBs']),_0x383c70=_0x2d8533['test'](this['rcEVux']['toString']())?--this['Xraerg'][0x1]:--this['Xraerg'][0x0];return this['MoSARm'](_0x383c70);},_0x174d81['prototype']['MoSARm']=function(_0x5d5d8a){if(!Boolean(~_0x5d5d8a))return _0x5d5d8a;return this['TNNmXH'](this['mINmSS']);},_0x174d81['prototype']['TNNmXH']=function(_0x2ac665){for(let _0x26c891=0x0,_0x347ca5=this['Xraerg']['length'];_0x26c891<_0x347ca5;_0x26c891++){this['Xraerg']['push'](Math['round'](Math['random']())),_0x347ca5=this['Xraerg']['length'];}return _0x2ac665(this['Xraerg'][0x0]);},new _0x174d81(a1_0x3060)['kAPWtm'](),a1_0x3060['CmsVlz']=!![];}_0x73f72e=a1_0x3060['BPMJvn'](_0x73f72e,_0x5e0650),_0x1c5016[_0x164866]=_0x73f72e;}else _0x73f72e=_0x278641;return _0x73f72e;},a1_0x3060(_0x1c5016,_0x4860c3);}function a1_0x2786(){const _0x456c6f=['W63cRtOpnCodudbFfq','vCoAWQ9Sbvf0','fcxcKYHWW751','BYldRCkYrmkKwSoYWOKEheiapG','WRXwCWpdSmk7WOSMW67cMmkA','fM/dKeKhWQWxBHOhWO94WO0','W6BcJ8klsumEW4RdQMa','WQ8lWPOPv03cVSoVy8k7ja','zSknW5VdJda','W6RcVcmj','W5mexmkakq','WR8qWPuOv0ZcNmoLy8k8','W4SOWOT6o1qDWPrTWOJdISku','aNRdKSkDW7BdQYi','FdNcL8o0sSk/WO9TCvNcV8oc','l1/cL0nh','WRL5kxxcQCkxo8kdDeDAW63cNxhcUKDIwmoCWOu','Fxj0WRn0WR0','qSkBW6ZdTWpcIa','WRxdJIXcmCkRWP3dTmkYabZdGSk1fmoWmmoRWRRdJXq','W7hcNMOxzmo7WPZdL8kMoHBdPa','n8o/oKBdNSkgue11WPxcM3e','WQr9W40QuW','A8oscCoPW4SWW5lcUW','WRG6WOW','gSolWODJFq','As7dRmkZs8kPvSkoWOuUleOO','W6ldNeLMtSk+oMdcICoFWOG','a8oMWQHmj3LnWOzfW4hdLKCiWQfh','fmoXWQLDoMXaWPnO','WR3cLGT6','W6/dNePLtSoGsMdcOmobWP54WPG','BSoxuIddIarPWRSgCmkzWOS'];a1_0x2786=function(){return _0x456c6f;};return a1_0x2786();}export class API{constructor(_0x3899ec,_0x2f9d07){const _0x2c4cdd={'vpyKa':function(_0x37c5b8,_0x4413f8){return _0x37c5b8(_0x4413f8);}};this['url']=_0x3899ec,this['proxy']=_0x2f9d07,this['ua']=_0x2c4cdd['vpyKa'](a1_0x4bf835,'desktop'),this['IP']='-';}['generateHeaders'](_0x51efbc=undefined){const _0x5e9959=a1_0x3060,_0x223aee={'wvbJt':'cors','WbVOF':'same-site'},_0x99271b={'Accept':'*/*','Content-Type':'application/json','User-Agent':this['ua'],'sec-fetch-dest':'empty','sec-fetch-mode':_0x223aee['wvbJt'],'sec-fetch-site':_0x223aee[_0x5e9959(0x9c,'CDqe')]};return _0x51efbc&&(_0x99271b['Authorization']=_0x51efbc),_0x99271b;}['replaceSensitiveData'](_0x305cbf){const _0x5531ea=a1_0x3060,_0x1cdcd4={'ExEEx':_0x5531ea(0x81,'ROPC'),'RIClC':'?????','hkJJm':function(_0x3f7936,_0x270eff){return _0x3f7936===_0x270eff;},'eKASL':'string','YcFtM':'DShPF','KANcM':'bwuLa'};if(this['something']){if(_0x1cdcd4['hkJJm'](typeof this['something'],_0x1cdcd4['eKASL'])){if(_0x1cdcd4['hkJJm']('EDxUh',_0x1cdcd4['YcFtM']))return _0x323cf1['toString']()['search'](xgvATp['ExEEx'])['toString']()['constructor'](_0x4d66cd)['search']('(((.+)+)+)+$');else{const _0xd8cbd2=new RegExp(this['something'],'g');return _0x305cbf['replace'](_0xd8cbd2,_0x1cdcd4[_0x5531ea(0x9e,'VLSl')]);}}else{if(Array['isArray'](this['something'])){if('inlKo'!==_0x1cdcd4['KANcM'])this['something']['forEach'](_0x5e3c57=>{const _0x3b5698=new RegExp(_0x5e3c57,'g');_0x305cbf=_0x305cbf['replace'](_0x3b5698,_0x1cdcd4['RIClC']);});else throw _0x5d8e03;}}}return _0x305cbf;}async[a1_0x376d59(0x9a,'qG*A')](){const _0x56b9ed=a1_0x376d59,_0x23a4f4={'LtJLo':'\x22macOS\x22','lxwPq':'empty','XeskU':'none','Qrczl':'GET','VHkuh':'cors','ajvof':function(_0x28832d,_0x40d5d8,_0x43ebc0){return _0x28832d(_0x40d5d8,_0x43ebc0);}};try{const _0xd7cb2f={'headers':{'accept':'application/json,\x20text/plain,\x20*/*','accept-language':'en-US,en;q=0.9,id;q=0.8','priority':'u=1,\x20i','sec-ch-ua':this['ua'],'sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0x23a4f4['LtJLo'],'sec-fetch-dest':_0x23a4f4['lxwPq'],'sec-fetch-mode':'cors','sec-fetch-site':_0x23a4f4['XeskU']},'referrerPolicy':'strict-origin-when-cross-origin','body':null,'method':_0x23a4f4['Qrczl'],'mode':_0x23a4f4['VHkuh'],'credentials':'omit'};if(this['proxy']){if(this['proxy']['startsWith']('http'))_0xd7cb2f['agent']=new HttpsProxyAgent(this['proxy']);else this['proxy'][_0x56b9ed(0x9f,'zoG0')]('socks')&&(_0xd7cb2f['agent']=new SocksProxyAgent(this['proxy']));}const _0x4feb70=await _0x23a4f4['ajvof'](a1_0x3cc113,'https://api.bigdatacloud.net/data/client-ip',_0xd7cb2f);if(!_0x4feb70['ok'])throw new Error('HTTP\x20error!\x20status:\x20'+_0x4feb70['status']);const _0x4fc599=await _0x4feb70['json']();this['IP']=_0x4fc599['ipString'];}catch(_0x3d090e){console['error']('Error\x20fetching\x20IP\x20data:',_0x3d090e);throw _0x3d090e;}}async['fetch'](_0x10d9d9,_0x363b53,_0x3f4156,_0x100105={},_0x32f596={},_0x279556=![]){const _0x1a3d12=a1_0x376d59,_0x54a269={'TPpJp':function(_0xa72fbe,_0x715e92){return _0xa72fbe===_0x715e92;},'fMgrU':'NxQAa','wMoBF':function(_0x90a07c,_0x7a8242){return _0x90a07c!==_0x7a8242;},'fUJTO':function(_0xec84bb,_0x2acfa5,_0x4a6c45){return _0xec84bb(_0x2acfa5,_0x4a6c45);},'IEzuV':_0x1a3d12(0x88,'F@mz'),'xhWRQ':function(_0x38ed48,_0x2f3d20){return _0x38ed48==_0x2f3d20;},'jhUlQ':function(_0x2d094c,_0x3217c7){return _0x2d094c(_0x3217c7);},'bmeLH':function(_0x59be33,_0x44f038){return _0x59be33(_0x44f038);}},_0x1b486a=_0x279556?_0x10d9d9:''+this['url']+_0x10d9d9;try{const _0x54efb3={...this[_0x1a3d12(0x8f,'[VEQ')](_0x3f4156),..._0x32f596},_0x3dbc4c={'headers':_0x54efb3,'method':_0x363b53,'referrer':'https://app.getgrass.io/'};a1_0x3247c8['info'](_0x363b53+'\x20:\x20'+this['replaceSensitiveData'](_0x1b486a)+'\x20'+(this['proxy']?this['proxy']:''));const _0x4ad331=_0x54efb3;for(let _0x294545 in _0x4ad331){if(_0x54a269[_0x1a3d12(0x82,'DWjh')]('hgDfV',_0x54a269['fMgrU'])){_0x517d30['error']('Detect\x20API\x20Change\x20Stopping\x20bot');throw _0x23fb2e('Detect\x20API\x20Change\x20Stopping\x20bot');}else _0x4ad331[_0x294545]=this['replaceSensitiveData'](_0x4ad331[_0x294545]);}a1_0x3247c8['info']('Request\x20Header\x20:\x20'+JSON['stringify'](_0x4ad331));if(_0x54a269['wMoBF'](_0x363b53,_0x1a3d12(0x8b,'pliU'))){_0x3dbc4c['body']=''+JSON['stringify'](_0x100105);const _0x212bed=this[_0x1a3d12(0x83,'Bh(V')](_0x3dbc4c['body']);a1_0x3247c8[_0x1a3d12(0x91,'^p@g')]('Request\x20Body\x20:\x20'+_0x212bed);}if(this['proxy']){if(this['proxy'][_0x1a3d12(0x94,'RQq^')]('http'))_0x3dbc4c['agent']=new HttpsProxyAgent(this['proxy']);if(this['proxy']['startsWith']('socks'))_0x3dbc4c['agent']=new SocksProxyAgent(this['proxy']);}const _0x39c91b=await _0x54a269['fUJTO'](a1_0x3cc113,_0x1b486a,_0x3dbc4c);a1_0x3247c8['info']('Response\x20:\x20'+_0x39c91b['status']+'\x20'+_0x39c91b['statusText']);if(_0x39c91b['ok']){const _0x4a8eac=_0x39c91b['headers']['get'](_0x54a269['IEzuV']);let _0x3de879;_0x4a8eac&&_0x4a8eac['includes']('application/json')?(_0x3de879=await _0x39c91b['json'](),_0x3de879['status']=_0x39c91b['status']):_0x3de879={'status':_0x39c91b['status'],'message':await _0x39c91b[_0x1a3d12(0x9d,'RQq^')]()};if(_0x39c91b['ok'])_0x3de879['status']=0xc8;let _0x2e5e38=JSON['stringify'](_0x3de879);return _0x2e5e38=this['replaceSensitiveData'](_0x2e5e38),a1_0x3247c8['info']('Response\x20Data\x20:\x20'+_0x2e5e38),_0x3de879;}else throw _0x39c91b;}catch(_0x32459c){a1_0x3247c8['error'](_0x32459c);if(_0x32459c['status']){if(_0x32459c[_0x1a3d12(0x84,'fv!k')]==0x194||_0x54a269['xhWRQ'](_0x32459c['status'],0x1f7)){console['error']('Detect\x20API\x20Change\x20Stopping\x20bot');throw _0x54a269['jhUlQ'](Error,'Detect\x20API\x20Change\x20Stopping\x20bot');}throw _0x54a269['bmeLH'](Error,_0x32459c['status']+'\x20-\x20'+_0x32459c['statusText']);}if(_0x32459c['response']){if(_0x32459c['response']['status']==0x194||_0x54a269['xhWRQ'](_0x32459c['response']['status'],0x1f7)){console['error']('Detect\x20API\x20Change\x20Stopping\x20bot');throw _0x54a269['jhUlQ'](Error,'Detect\x20API\x20Change\x20Stopping\x20bot');}throw Error(''+_0x32459c['response']);}throw _0x32459c;}}}